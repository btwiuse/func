<!-- This file was generated by structdoc. DO NOT EDIT. -->
<!-- For changes modify apigateway_integration.go instead. -->

# aws_apigateway_integration

APIGatewayIntegration provides a resource (GET /, POST /user etc) in a REST
API.

## Overview

| i/o | name | type | required |
| --- | ---- | ---- | -------: |
| input | [`cache_key_parameters`](#cache_key_parameters) | `array` |  |
| input | [`cache_namespace`](#cache_namespace) | `string` |  |
| input | [`connection_id`](#connection_id) | `string` |  |
| input | [`connection_type`](#connection_type) | `string` |  |
| input | [`content_handling`](#content_handling) | `string` |  |
| input | [`credentials`](#credentials) | `string` |  |
| input | [`http_method`](#http_method) | `string` | required |
| input | [`integration_http_method`](#integration_http_method) | `string` | required |
| input | [`passthrough_behavior`](#passthrough_behavior) | `string` |  |
| input | [`request_parameters`](#request_parameters) | `map` |  |
| input | [`request_templates`](#request_templates) | `map` |  |
| input | [`resource_id`](#resource_id) | `string` | required |
| input | [`rest_api_id`](#rest_api_id) | `string` | required |
| input | [`timeout`](#timeout) | `time` |  |
| input | [`type`](#type) | `string` | required |
| input | [`uri`](#uri) | `string` |  |
| input | [`region`](#region) | `string` | required |
| output | [`integration_responses`](#integration_responses) | `map` ||


## Inputs

### cache_key_parameters

`optional array`

Specifies a put integration input's cache key parameters.

### cache_namespace

`optional string`

Specifies a put integration input's cache namespace.

### connection_id

`optional string`

The [id](https://docs.aws.amazon.com/apigateway/api-reference/resource/vpc-link/#id)
of the VpcLink used for the integration when `connectionType=VPC_LINK` and
undefined, otherwise.

### connection_type

`optional string`

The type of the network connection to the integration endpoint. The valid
value is `INTERNET` for connections through the public routable internet or
`VPC_LINK` for private connections between API Gateway and a network load balancer
in a VPC. The default value is `INTERNET`.

### content_handling

`optional string`

Specifies how to handle request payload content type conversions. Supported
values are `CONVERT_TO_BINARY` and `CONVERT_TO_TEXT`, with the following
behaviors:

- `CONVERT_TO_BINARY`: Converts a request payload from a Base64-encoded
  string to the corresponding binary blob.
- `CONVERT_TO_TEXT`: Converts a request payload from a binary blob to a
  Base64-encoded string.

If this property is not defined, the request payload will be passed through
from the method request to integration request without modification, provided
that the `passthrough_behaviors` is configured to support payload pass-through.

### credentials

`optional string`

Specifies the credentials required for the integration, if any.

For AWS integrations, three options are available:
- To specify an IAM Role for API Gateway to assume, use the role's Amazon Resource Name (ARN)
- To require that the caller's identity be passed through from the
  request, specify the string `arn:aws:iam::*:user/*`
- To use resource-based permissions on supported AWS services, leave this field blank.

### http_method

`string`

Specifies a put integration request's HTTP method.

### integration_http_method

`string`

Specifies a put integration HTTP method.

When the integration type is `HTTP` or `AWS`, this field is required.

### passthrough_behavior

`optional string`

Specifies the pass-through behavior for incoming requests based on the
Content-Type header in the request, and the available mapping templates
specified as the `request_templates` property on the Integration
resource.

There are three valid values:

- `WHEN_NO_MATCH` passes the request body for unmapped content types through
  to the integration back end without transformation.
- `NEVER` rejects unmapped content types with an HTTP 415 'Unsupported Media
  Type' response.
- `WHEN_NO_TEMPLATES` allows pass-through when the integration has NO content
  types mapped to templates. However if there is at least one content type
  defined, unmapped content types will be rejected with the same 415 response.

### request_parameters

`optional map`

A key-value map specifying request parameters that are passed from the
method request to the back end. The key is an integration request
parameter name and the associated value is a method request parameter
value or static value that must be enclosed within single quotes and
pre-encoded as required by the back end. The method request parameter
value must match the pattern of `method.request.{location}.{name}`,
where location is `querystring`, `path`, or `header` and name must be a
valid and unique method request parameter name.

### request_templates

`optional map`

Represents a map of
[Velocity](https://velocity.apache.org/engine/1.7/user-guide.html#velocity-template-language-vtl-an-introduction)
templates that are applied on the request payload based on the value of
the Content-Type header sent by the client. The content type value is
the key in this map, and the template (as a String) is the value.

### resource_id

`string`

Specifies a put integration request's resource ID.

### rest_api_id

`string`

The string identifier of the associated RestApi.

### timeout

`optional time`

Custom timeout between 50 and 29,000 milliseconds. The default value is 29,000
milliseconds or 29 seconds.

### type

`string`

Specifies a put integration input's type.

Valid values:
- `AWS`: for integrating the API method request with an AWS service
  action, including the Lambda function-invoking action. With the Lambda
  function-invoking action, this is referred to as the Lambda custom
  integration. With any other AWS service action, this is known as AWS
  integration.
- `AWS_PROXY`: for integrating the API method request with the Lambda
  function-invoking action with the client request passed through as-is.
  This integration is also referred to as the Lambda proxy integration.
- `HTTP`: for integrating the API method request with an HTTP endpoint,
  including a private HTTP endpoint within a VPC. This integration is also
  referred to as the HTTP custom integration.
- `HTTP_PROXY`: for integrating the API method request with an HTTP
  endpoint, including a private HTTP endpoint within a VPC, with the
  client request passed through as-is. This is also referred to as the
- `HTTP` proxy integration.
- `MOCK`: for integrating the API method request with API Gateway as a
  "loop-back" endpoint without invoking any backend.

For the HTTP and HTTP proxy integrations, each integration can specify a
protocol (http/https), port and path. Standard 80 and 443 ports are
supported as well as custom ports above 1024. An HTTP or HTTP proxy
integration with a `connection_type` of `VPC_LINK` is referred to as a
private integration and uses a VpcLink to connect API Gateway to a
network load balancer of a VPC.

### uri

`optional string`

Specifies Uniform Resource Identifier (URI) of the integration endpoint.

- For `HTTP` or `HTTP_PROXY` integrations, the URI must be a fully
  formed, encoded HTTP(S) URL according to the RFC-3986 specification, for
  either standard integration, where connectionType is not `VPC_LINK`, or
  private integration, where connectionType is `VPC_LINK`. For a private
  HTTP integration, the URI is not used for routing.
- For AWS or AWS_PROXY integrations, the URI is of the form
  `arn:aws:apigateway:{region}:{subdomain.service|service}:path|action/{service_api}`.
  Here, `{Region}` is the API Gateway region (e.g., _us-east-1_);
  `{service}` is the name of the integrated AWS service (e.g., _s3_);
  and `{subdomain}` is a designated subdomain supported by certain AWS
  service for fast host-name lookup. The `action` can be used for an AWS
  service action-based API, using an `Action={name}&{p1}={v1}&p2={v2}...`
  query string. The ensuing `{service_api}` refers to a supported action
  `{name}` plus any required input parameters. Alternatively, `path` can
  be used for an AWS service path-based API. The ensuing `service_api`
  refers to the path to an AWS service resource, including the region of
  the integrated AWS service, if applicable.  For example, for
  integration with the S3 API of
  [GetObject](https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html),
  the uri can be either
  `arn:aws:apigateway:us-west-2:s3:action/GetObject&Bucket={bucket}&Key={key}`
  or `arn:aws:apigateway:us-west-2:s3:path/{bucket}/{key}`

### region

`string`



## Outputs

### integration_responses

`map`

Specifies the integration's responses.

The key in the map is the HTTP status code.
